(()=>{"use strict";class t{constructor(t){this.title=t,this.todos=[]}addTodo(t){this.todos.push(t)}getTodo(t){return this.todos.find((e=>e.title===t))}getTodos(){return this.todos}removeTodo(t){this.todos.splice(t,1)}changeTitle(t){this.title=t}}class e{constructor(t,e,n,d){this.title=t,this.desc=e,this.priority=n,this.dueDate=d}}let n=new class{constructor(){this.projects=[]}getProjects(){return this.projects}addProject(t){this.projects.push(t)}getProject(t){return this.projects.find((e=>e.title===t))}removeProject(t){this.projects.splice(t,1)}},d=new t("Inbox");n.addProject(d);let o=!1,c=!1;function i(){const t=document.getElementById("add-new-project");t.reset(),t.style.transform="scale(0)"}function s(){const t=document.getElementById("project-list");t.innerHTML="",n.getProjects().forEach(((e,d)=>{const o=document.createElement("div"),c=document.createElement("button");c.innerText=e.title,c.title=e.title,c.classList.add("user-projects");let i=document.createElement("button");i.setAttribute("data-project-number",d),i.id="delete-proj",i.addEventListener("click",(t=>{n.removeProject(t.target.getAttribute("data-project-number")),s(),document.querySelector('[title="Inbox"]').click()})),o.appendChild(c),"Inbox"!==e.title&&o.appendChild(i),t.appendChild(o)})),function(){const t=document.querySelectorAll(".user-projects"),e=document.getElementById("todo-list"),d=document.getElementById("section-heading");t.forEach((t=>{t.addEventListener("click",(t=>{e.innerHTML="",d.textContent=t.target.title,r(n.getProject(t.target.title))}))}))}()}function r(t){const e=document.getElementById("todo-list");e.innerHTML="",t.todos.forEach(((n,d)=>{const o=document.createElement("div");o.innerHTML=n.title,o.title=n.title,o.id="todo";let c=document.createElement("button");c.setAttribute("data-index-number",d),c.id="delete-todo",c.addEventListener("click",(e=>{t.removeTodo(e.target.getAttribute("data-index-number")),r(t)})),o.appendChild(c),e.appendChild(o)}))}function l(){const t=document.getElementById("add-new-task"),e=document.getElementById("todo-list"),n=document.getElementById("task-container"),d=document.getElementById("add-todo-div");n.classList.remove("task-popup-active"),e.style.visibility="visible",d.style.opacity="1",t.reset()}document.getElementById("sidebar-add-project").addEventListener("click",(function(){document.getElementById("add-new-project").style.transform="scale(1)"})),document.getElementById("cancel-add-proj").addEventListener("click",i),document.getElementById("add-new-project").addEventListener("submit",(e=>{e.preventDefault(),function(){const e=document.getElementById("title").value;n.getProject(e)?alert("Already have project with this name!"):e.length<=16?(function(e){const d=new t(e);n.addProject(d),s()}(e),i()):alert("Project Names must be a max of 16 characters")}()})),document.getElementById("add-todo").addEventListener("click",(function(){const t=document.getElementById("task-container"),e=document.getElementById("todo-list"),n=document.getElementById("add-todo-div");t.classList.add("task-popup-active"),e.style.visibility="hidden",n.style.opacity="0"})),document.getElementById("cancel-task").addEventListener("click",l),document.getElementById("add-new-task").addEventListener("submit",(t=>{t.preventDefault(),function(){const t=document.getElementById("section-heading").innerText,d=n.getProject(t),o=document.getElementById("task-title").value,c=document.getElementById("task-desc").value,i=document.getElementById("task-due").value,s=document.getElementById("task-priority").checked;if(d.getTodo(o))return void alert("Cannot have a todo with the same title!");const a=new e(o,c,s,i);d.addTodo(a),l(),r(d)}()})),document.getElementById("menu-icon").addEventListener("click",(function(){const t=document.getElementById("sidebar-container"),e=document.getElementById("main-content");!1===o?(t.classList.add("menu-active"),e.style.visibility="hidden",o=!0):(t.classList.remove("menu-active"),e.style.visibility="visible",o=!1)})),document.querySelectorAll(".todo-list").forEach((t=>{t.addEventListener("click",(t=>{try{const e=document.getElementById("section-heading").innerText,d=n.getProject(e);if(!0===c)return c=!1,void r(d);!function(t){const e=document.getElementById("section-heading").innerText,d=n.getProject(e).getTodo(t.target.title),o=t.target,c=document.createElement("div");let i=document.createElement("p"),s=document.createElement("p"),r=document.createElement("p"),l=document.createElement("p");i.textContent=`Title: ${d.title}`,s.textContent=`Description: ${d.desc}`,r.textContent=`Priority: ${d.priority}`,l.textContent=`Due Date: ${d.dueDate}`,c.appendChild(i),c.appendChild(s),c.appendChild(r),c.appendChild(l),o.appendChild(c)}(t),c=!0}catch(t){return}}))})),s()})();